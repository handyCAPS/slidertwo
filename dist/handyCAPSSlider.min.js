/*! handyCAPSSlider - v2.0.0 - 2014-08-04
* Copyright (c) 2014 handyCAPS; Licensed MIT */
function HandyCAPSSlider(){{var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame}this.getNodes=function(a){return document.querySelectorAll?document.querySelectorAll(this.classify(a)):document.getElementsByClassName(this.classify(a).slice(1))},this.getUnique=function(a){return document.querySelectorAll?document.querySelectorAll(this.container+" "+this.classify(a)):document.getElementsByClassName(this.container.slice(1)+" "+this.classify(a).slice(1))},this.classify=function(a){return a?/^\./.test(a)?a:"."+a:void 0},this.basicCSS=function(){var a=this.getUnique(this.itemWrapper)[0],b=this.getUnique(this.items),c=a.querySelectorAll("img");this.containerNode.style+="; overflow: hidden",a.style=" white-space: nowrap;";for(var d=0;d<b.length;d++)b[d].style+=";display: inline-block; width: 100%;";for(var e=0;e<c.length;e++)c[e].style+=";vertical-align: middle; width: 100%"},this.wrapItems=function(){var a=this.getNodes(this.container)[0],b=this.getNodes(this.items),c=document.createElement("div");c.className="item-wrapper",this.itemWrapper=this.classify(c.className),a.appendChild(c);for(var d=0;d<b.length;d++)c.appendChild(b[d]);this.wrapperNode=this.getUnique(this.itemWrapper)[0]},this.moveWrapper=function(a){this.wrapperNode.style.transform="translateX(-"+a+"px)"},this.move=0,this.rev=!1,this.calls=1,this.slide=1,this.animate=function(){this.animId=a(this.animate.bind(this)),this.calls++;var b=parseInt(window.getComputedStyle(this.itemNodes[0]).getPropertyValue("width"),10),c=b*--this.itemNodes.length,d=Math.floor((Date.now()-this.start)/1e3),e=this.calls/d;return d>this.animDur&&console.log(this.calls),!this.rev&&d>this.slideDur&&this.move<b*this.slide&&(this.moveWrapper(this.move),this.move+=b/e),d>this.slideDur+this.animDur?(this.start=Date.now(),this.calls=1,void this.slide++):(this.move>c&&d>this.slideDur&&(this.rev=!0,this.slide=1),void(this.rev&&(this.move>0?(this.moveWrapper(this.move),this.move-=c/(60*this.animDur)):this.rev=!1)))},this.init=function(){var a=arguments[0]||{};this.container=a.container||".container",this.items=a.items||".slider-item",this.animDur=a.animationDuration||2,this.slideDur=a.slideDuration||2,this.containerNode=this.getNodes(this.container)[0],this.itemNodes=this.getUnique(this.items),this.start=Date.now(),this.wrapItems(),this.basicCSS(),this.animate()}}